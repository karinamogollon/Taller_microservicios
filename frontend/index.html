<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="estilos.css">
    <title>Estudiantes</title>
</head>
<body>
    <h2>Registrar Estudiante</h2>
    <form id="formRegistrarEstudiante">
        <label for="cod">Código:</label>
        <input type="text" id="cod" required><br>
        
        <label for="nombres">Nombre:</label>
        <input type="text" id="nombres" required><br>
        
        <label for="email">Email:</label>
        <input type="email" id="email" required><br>
        
        <button type="submit">Registrar Estudiante</button>
    </form>

    <h2>Actualizar Estudiante</h2>
    <form id="formActualizarEstudiante" style="display: none;">
        <input type="hidden" id="estudianteId" />
        
        <label for="codActualizar">Código:</label>
        <input type="text" id="codActualizar" required disabled><br>
        
        <label for="nombresActualizar">Nombre:</label>
        <input type="text" id="nombresActualizar" required><br>
        
        <label for="emailActualizar">Email:</label>
        <input type="email" id="emailActualizar" required><br>
        
        <button type="submit">Actualizar Estudiante</button>
    </form>

    <h3>Resumen</h3>
    <p>Aprobados: <span id="aprobadosCount">0</span></p>
    <p>Reprobados: <span id="reprobadosCount">0</span></p>
    <p>Sin Notas: <span id="sinNotasCount">0</span></p>

    <h3>Filtros</h3>
    <form id="formFiltros">
        <label for="filtroCodigo">Código:</label>
        <input type="text" id="filtroCodigo"><br>

        <label for="filtroNombre">Nombre:</label>
        <input type="text" id="filtroNombre"><br>

        <label for="filtroEmail">Email:</label>
        <input type="email" id="filtroEmail"><br>

        <label for="filtroEstado">Estado:</label>
        <select id="filtroEstado">
            <option value="">Todos</option>
            <option value="Aprobado">Aprobado</option>
            <option value="Reprobado">Reprobado</option>
            <option value="No hay nota">No hay nota</option>
        </select><br>

        <label for="filtroRangoNota">Rango de Nota:</label>
        <input type="number" id="filtroRangoNotaMin" placeholder="Mínima" min="0" max="5" step="0.1">
        <input type="number" id="filtroRangoNotaMax" placeholder="Máxima" min="0" max="5" step="0.1"><br>

        <button type="submit">Buscar</button>
    </form>

    <h1>Estudiantes</h1>

    <table id="tablaEstudiantes">
        <thead>
            <tr>
                <th>Código</th>
                <th>Nombre</th>
                <th>Email</th>
                <th>Nota Definitiva</th>
                <th>Estado</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            <!-- Los estudiantes se llenarán aquí -->
        </tbody>
    </table>

    <h3>Notas del Estudiante</h3>
    <div id="detalleEstudiante" style="display:none;">
        <p><strong>Código:</strong> <span id="detalleCodigo"></span></p>
        <p><strong>Nombre:</strong> <span id="detalleNombre"></span></p>
        <p><strong>Email:</strong> <span id="detalleEmail"></span></p>
        <p><strong>Estado:</strong> <span id="detalleEstado"></span></p>
        <p><strong>Promedio:</strong> <span id="detallePromedio"></span></p>
        <h4>Notas</h4>
        <table id="tablaNotas">
            <thead>
                <tr>
                    <th>Actividad</th>
                    <th>Nota</th>
                    <th>Acciones</th>
                </tr>
            </thead>
            <tbody>
                <!-- Las notas del estudiante se llenarán aquí -->
            </tbody>
        </table>

        <h4>Registrar Nota</h4>
        <form id="formRegistrarNota">
            <label for="actividad">Actividad:</label>
            <input type="text" id="actividad" required><br>

            <label for="nota">Nota (0 - 5):</label>
            <input type="number" id="nota" min="0" max="5" step="0.01" required><br>

            <button type="submit">Registrar Nota</button>
        </form>
    </div>

    <form id="formModificarNota" style="display: none;">
        <h3>Modificar Nota</h3>
        <input type="hidden" id="idNota"> <!-- ID de la nota a modificar -->
        <label for="actividadModificar">Actividad:</label>
        <input type="text" id="actividadModificar" required>
        <label for="notaModificar">Nota:</label>
        <input type="number" id="notaModificar" min="0" max="5" step="0.01" required>
        <button type="submit">Guardar Cambios</button>
        <button type="button" onclick="cancelarEdicionNota()">Cancelar</button>
    </form>
    <p id="notasBajo3">Notas por debajo de 3: 0</p>
    <p id="notasMayores3">Notas mayores o iguales a 3: 0</p>

    
    <script src="script.js"></script>
</body>
</html>